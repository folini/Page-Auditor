(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var n;e.g.importScripts&&(n=e.g.location+"");var t=e.g.document;if(!n&&t&&(t.currentScript&&(n=t.currentScript.src),!n)){var a=t.getElementsByTagName("script");a.length&&(n=a[a.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=n})(),e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p;const n=(e,n)=>`<div class='box-card'><h2 class='subTitle ${n}'>${e}</h2>`;var t=0;const a=e=>{const a=e;if(0==a.length)return[("No Structured Data found on this page.",n("Warning","icon-warning")+"<div>No Structured Data found on this page.</div></div>")];const i=[];return a.forEach(((e,a)=>{const c=void 0===e["@type"]?"n/a":e["@type"],s=JSON.stringify(e);var o;i.push(n(`Structured Data "${c}"`,"icon-ld-json")),"n/a"!==c&&i.push(`<div class='schema'>Schema: <a href='https://shema.org/${c}'>shema.org/${c}</a></div>`),(o=s,o.includes("\n")||(o=o.replace(/\{/g,"{\n").replace(/\}/g,"\n}").replace(/\,\"/g,',\n"').replace(/\,\{/g,",\n{").replace(/\:\[/g,": [\n").replace(/\]\,/g,"\n],").replace(/\}\]/g,"}\n],").replace(/\\/g,"")),o.split("\n").map((e=>e.trim()))).forEach((e=>((e,n)=>{if(0===n.length)return;const a=`margin-left:${(20*(t+=null!==n.match(/\}|\]/g)?-1:0)).toFixed()}px;`;t+=null!==n.match(/\{|\[/g)?1:0,n=null!==n.match(/\:\ ?\"/)?`<span class='label' style='${a}'>${n.replace(/\: ?\"/,"</span>: <span class='value'>\"")}</span>`:`<span class='label' style='${a}'>${n}</span>`,e.push(`<div>${n}</div>`)})(i,e))),i.push("</div>")})),i},i=()=>[...document.scripts].filter((e=>"application/ld+json"===e.type)).map((e=>JSON.parse(e.text.trim()))),c=()=>{const e=[{pattern:"tagmanager",name:"Google Tag Manager",iconClass:"icon-tag-manager"},{pattern:"ads-twitter",name:"Twitter Ads",iconClass:"icon-twitter-ads"},{pattern:"analytics.twitter",name:"Twitter Analytics",iconClass:"icon-twitter-analytics"},{pattern:"//www.googleadservices.com/",name:"Google Ads",iconClass:"icon-google-ads"},{pattern:"connect.facebook.net/signals",name:"Facebook Pixel",iconClass:"icon-facebook-pixel"},{pattern:"//googleads.g.doubleclick.net/",name:"Google DoubleClick Digital Marketing",iconClass:"icon-double-click"},{pattern:"//snap.licdn.com/",name:"LinkedIn Ads",iconClass:"icon-linkedin-ads"},{pattern:"//bat.bing.com/",name:"Bing Ads",iconClass:"icon-bing-ads"},{pattern:"//s.pinimg.com/",name:"Pinterest Tracking",iconClass:"icon-pinterest"},{pattern:"//www.google-analytics.com/analytics.js",name:"Google Analytics Tracking v3",iconClass:"icon-google-analytics-v3"},{pattern:"//cdn.pdst.fm/",name:"Podsights Tracking",iconClass:"icon-podsights"},{pattern:"//siteimproveanalytics.com/",name:"Site Improve Analytics",iconClass:"icon-site-improve"},{pattern:"//pagead2.googlesyndication.com/",name:"Google AdSense",iconClass:"icon-google-adsense"}],n=[];return[...document.scripts].map((e=>e.src)).filter(Boolean).forEach((t=>e.forEach((e=>{null!==t.match(new RegExp(e.pattern,"ig"))&&n.push({url:t,name:e.name,iconClass:e.iconClass})})))),n},s=e=>{const t=[];return e.sort(((e,n)=>e.name>n.name?1:n.name>e.name?-1:0)).forEach((e=>{t.push(n(`${e.name}`,`${e.iconClass}`)),t.push(`<div class='track-url'>${e.url}</div>`),t.push("</div>")})),t};async function o(e,t){var a=[];const[i]=await chrome.tabs.query({active:!0,currentWindow:!0});try{a=t((await chrome.scripting.executeScript({target:{tabId:i.id},function:e}))[0].result)}catch(e){a.push((c=e.message,n("Error","icon-error")+`<div>${c}</div></div>`))}var c;document.getElementById("id-container").innerHTML=a.join("")}const r=["id-ld-json","id-tracking","id-meta"],l=e=>{var n;r.forEach((e=>document.getElementById(e).classList.remove("active"))),null===(n=document.getElementById(e))||void 0===n||n.classList.add("active")};document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("id-ld-json").addEventListener("click",(()=>{l("id-ld-json"),o(i,a)})),document.getElementById("id-tracking").addEventListener("click",(()=>{l("id-tracking"),o(c,s)})),document.getElementById("id-meta").addEventListener("click",(()=>{l("id-meta"),o(i,a)}))}))})();