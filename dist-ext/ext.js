(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.p,t.p,t.p,t.p,t.p,t.p;const e=(t,e)=>`<div class='box-card'><h2 class='subTitle ${e}'>${t}</h2>`;var n=0;const r=t=>{const r=t;if(0==r.length)return[("No Structured Data found on this page.",e("Warning","icon-warning")+"<div>No Structured Data found on this page.</div></div>")];const a=[];return r.forEach(((t,r)=>{const c=void 0===t["@type"]?"n/a":t["@type"],i=JSON.stringify(t);var s;a.push(e(`Structured Data "${c}"`,"icon-ld-json")),"n/a"!==c&&a.push(`<div class='schema'>Schema: <a href='https://shema.org/${c}'>shema.org/${c}</a></div>`),(s=i,s.includes("\n")||(s=s.replace(/\{/g,"{\n").replace(/\}/g,"\n}").replace(/\,\"/g,',\n"').replace(/\,\{/g,",\n{").replace(/\:\[/g,": [\n").replace(/\]\,/g,"\n],").replace(/\}\]/g,"}\n],").replace(/\\/g,"")),s.split("\n").map((t=>t.trim()))).forEach((t=>((t,e)=>{if(0===e.length)return;const r=`margin-left:${(20*(n+=null!==e.match(/\}|\]/g)?-1:0)).toFixed()}px;`;n+=null!==e.match(/\{|\[/g)?1:0,e=null!==e.match(/\:\ ?\"/)?`<span class='label' style='${r}'>${e.replace(/\: ?\"/,"</span>: <span class='value'>\"")}</span>`:`<span class='label' style='${r}'>${e}</span>`,t.push(`<div>${e}</div>`)})(a,t))),a.push("</div>")})),a},a=()=>[...document.scripts].filter((t=>"application/ld+json"===t.type)).map((t=>JSON.parse(t.text.trim()))),c=()=>[...document.scripts].map((t=>t.src)).filter(Boolean).filter((t=>t.match(/tagmanager|ads-twitter|analytics.twitter|googleadservices|connect.facebook.net\/signals|doubleclick.net/g))),i=t=>{const n=t,r=[];return r.push(e('Tracking "Google Tag Manager"',"icon-gtm")),n.forEach((t=>r.push(`<div class='track-url'>${t}</div>`))),r.push("</div>"),r};async function s(t,n){var r=[];const[a]=await chrome.tabs.query({active:!0,currentWindow:!0});try{r=n((await chrome.scripting.executeScript({target:{tabId:a.id},function:t}))[0].result)}catch(t){r.push((c=t.message,e("Error","icon-error")+`<div>${c}</div></div>`))}var c;document.getElementById("id-container").innerHTML=r.join("")}document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("id-ld-json").addEventListener("click",(()=>{s(a,r)})),document.getElementById("id-tracking").addEventListener("click",(()=>{s(c,i)})),document.getElementById("id-meta").addEventListener("click",(()=>{s(a,r)}))}))})();